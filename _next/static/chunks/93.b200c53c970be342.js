(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93],{5223:function(e,n,r){"use strict";r.d(n,{s:function(){return i}});var t=r(7294);function i(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=(0,t.useRef)(0),r=(0,t.useRef)(0),i=(0,t.useRef)(0),u=(0,t.useRef)([]),c=(0,t.useRef)(!1);(0,t.useEffect)((function(){r.current=performance.now(),i.current=0,u.current=[]}),[e]);var a=(0,t.useCallback)((function(){var e=performance.now();i.current=i.current+1,e>=r.current+100&&(n.current=100*i.current/(e-r.current)*10,u.current.push(n.current),r.current=e,i.current=0),u.current.length<=9||(u.current=u.current.slice(-9),u.current.every((function(e){return e<60}))&&(c.current=!0),u.current.every((function(e){return e>70}))&&(c.current=!1))}),[]);return{measureFps:a,fps:n,isLowFps:c}}},9556:function(e,n,r){"use strict";r.r(n),r.d(n,{Earth:function(){return U},EarthSection:function(){return W}});var t=r(7568),i=r(8616),u=r(1799),c=r(9396),a=r(9815),o=r(4051),s=r.n(o),l=r(5893),f=r.p+"static/media/earth.510551ea.glb",d=r.p+"static/media/milkyway-nx.0e972b21.hdr",v=r.p+"static/media/milkyway-ny.006459f3.hdr",p=r.p+"static/media/milkyway-nz.5f35d5a4.hdr",m=r.p+"static/media/milkyway-px.2922755b.hdr",h=r.p+"static/media/milkyway-py.7aeec30d.hdr",y=r.p+"static/media/milkyway-pz.0ef64b21.hdr",x="/_next/static/media/milkyway.dfc91e8e.jpg",w=r(7206),b=r(6602),g=r(3994),E=r(7260),k=r(6240),R=r(7378),_=r(4529),S=r(5223),C=r(7294),P=r(7333),j=r(9997),z=r(9477),A=r(2156),M=r(2362),N=r(3142);var F=r(4708),L=r.n(F),Z={x:0,y:0,z:2},O=function(e,n,r){return e+r*(n-e)},q=function(e){return Object.keys(e).map((function(n){return parseFloat(Math.round(100*e[n])/100).toFixed(2)})).join(", ")},T=function(e){return e&&e.camera?{x:e.camera[0],y:e.camera[1],z:e.camera[2]}:Z},J={stiffness:80,damping:40,mass:2,restSpeed:.001,restDelta:.001},D={stiffness:40,damping:30,mass:2,restSpeed:.001,restDelta:.001},Y={stiffness:40,damping:30},H=(0,C.createContext)({}),U=function(e){var n=e.position,r=void 0===n?[0,0,0]:n,o=e.scale,F=void 0===o?1:o,U=e.hideMeshes,W=void 0===U?[]:U,B=e.labels,I=void 0===B?[]:B,X=e.className,G=e.children,K=(0,C.useState)(!1),$=K[0],Q=K[1],V=(0,C.useState)(!1),ee=V[0],ne=V[1],re=(0,C.useState)(!1),te=re[0],ie=re[1],ue=(0,C.useState)(!1),ce=ue[0],ae=ue[1],oe=(0,C.useRef)([]),se=(0,C.useRef)(),le=(0,C.useRef)(),fe=(0,C.useRef)(),de=(0,C.useRef)(),ve=(0,C.useRef)(),pe=(0,C.useRef)(),me=(0,C.useRef)(),he=(0,C.useRef)(),ye=(0,C.useRef)(),xe=(0,C.useRef)(),we=(0,C.useRef)(),be=(0,C.useRef)(),ge=(0,_.NM)(fe),Ee=(0,C.useRef)(),ke=(0,C.useRef)(T(oe.current[0])),Re=(0,C.useRef)([]),_e=(0,C.useRef)(),Se=(0,C.useRef)(),Ce=(0,C.useRef)(),Pe=(0,C.useRef)(),je=(0,_.iP)(),ze=je.width,Ae=je.height,Me=(0,k.J)(),Ne=(0,R.q)(0,J),Fe=(0,R.q)(0,J),Le=(0,R.q)(0,J),Ze=(0,R.q)(0,D),Oe=(0,R.q)(0,D),qe=(0,R.q)(0,D),Te=(0,R.q)(0,Y),Je=(0,S.s)(ge),De=Je.measureFps,Ye=Je.isLowFps,He=(0,C.useCallback)((function(){if(ge){Ee.current=requestAnimationFrame(He);var e=me.current.getDelta();be.current.update(e),_e.current.update(),ve.current.render(de.current,pe.current),Re.current.forEach((function(e){var n=e.element,r=e.position,t=e.sprite,u=(0,i.Z)(z.Pa4,(0,a.Z)(r)),c=pe.current.position.distanceTo(xe.current.position),o=pe.current.position.distanceTo(t.position)>c;u.project(pe.current),u.x=Math.round((.5+u.x/2)*window.innerWidth),u.y=Math.round((.5-u.y/2)*window.innerHeight),n.style.setProperty("--posX",(0,M.ml)(u.x)),n.style.setProperty("--posY",(0,M.ml)(u.y)),n.dataset.occluded=!!o})),De(),Ye.current?ve.current.setPixelRatio(.5):ve.current.setPixelRatio(1)}else cancelAnimationFrame(Ee.current)}),[ge,De,Ye]);(0,C.useEffect)((function(){Pe.current=!0;var e=window.innerWidth,n=window.innerHeight;ve.current=new z.CP7({canvas:fe.current,antialias:!1,alpha:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0}),ve.current.setPixelRatio(1),ve.current.outputEncoding=z.knz,ve.current.physicallyCorrectLights=!0,ve.current.toneMapping=z.LY2,pe.current=new z.cPb(54,e/n,.1,100),pe.current.position.x=ke.current.x,pe.current.position.y=ke.current.y,pe.current.position.z=ke.current.z,pe.current.lookAt(0,0,0),Ne.set(pe.current.position.x,!1),Fe.set(pe.current.position.y,!1),Le.set(pe.current.position.z,!1),de.current=new z.xsS,me.current=new z.SUY,ye.current=new z.iMs;var r=new z.Mig(2236962,.05),t=new z.Ox3(16777215,1.5);t.position.set(3,0,1);var i=[r,t];return i.forEach((function(e){return de.current.add(e)})),_e.current=new P.z(pe.current,fe.current),_e.current.enableZoom=!1,_e.current.enablePan=!1,_e.current.enableDamping=!1,_e.current.rotateSpeed=.5,function(){Pe.current=!1,cancelAnimationFrame(Ee.current),(0,N.Ji)(i),(0,N.in)(de.current),(0,N.e8)(ve.current)}}),[]),(0,C.useEffect)((function(){var e=function(){ne(!0),Ne.stop(),Fe.stop(),Le.stop()},n=function(){Ne.set(pe.current.position.x,!1),Fe.set(pe.current.position.y,!1),Le.set(pe.current.position.z,!1),ne(!1)};return _e.current.addEventListener("start",e),_e.current.addEventListener("end",n),function(){_e.current.removeEventListener("start",e),_e.current.removeEventListener("end",n)}}),[Ne,Fe,Le]),(0,C.useEffect)((function(){if($){var e=(0,N.x2)("Chunk",xe.current),n=(0,N.x2)("Atmosphere",xe.current),r=function(e,n){pe.current.position[e]=n},t=Ne.onChange((function(e){return r("x",e)})),i=Fe.onChange((function(e){return r("y",e)})),u=Le.onChange((function(e){return r("z",e)})),c=function(n,r){e.position[n]=r},a=Ze.onChange((function(e){return c("x",e)})),o=Oe.onChange((function(e){return c("y",e)})),s=qe.onChange((function(e){return c("z",e)})),l=Te.onChange((function(e){n.material.opacity=e}));return function(){t(),i(),u(),a(),o(),s(),l()}}}),[Ne,Fe,Le,Ze,Oe,qe,$,Te]),(0,C.useEffect)((function(){ze<=M.BC.tablet&&(_e.current.enabled=!1)}),[ze]),(0,C.useEffect)((function(){if(!$){var e=new j.q,n=new z.anP(ve.current);n.compileCubemapShader();var i=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.Zf.loadAsync(f);case 2:n=e.sent,xe.current=n.scene,we.current=n.animations,be.current=new z.Xcj(xe.current),be.current.timeScale=.1,xe.current.traverse(function(){var e=(0,t.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.material,"Atmosphere"===n.name&&(r.alphaMap=r.map),!r){e.next=5;break}return e.next=5,ve.current.initTexture(r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),xe.current.position.x=r[0],xe.current.position.y=r[1],xe.current.position.z=r[2],xe.current.scale.x=F,xe.current.scale.y=F,xe.current.scale.z=F;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var r=(0,t.Z)(s().mark((function r(){var t;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.loadAsync([d,v,p,m,h,y]);case 2:return(t=r.sent).magFilter=z.wem,Se.current=n.fromCubemap(t),n.dispose(),r.next=8,ve.current.initTexture(Se.current.texture);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),c=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.Et.loadAsync(x);case 2:return(n=e.sent).mapping=z.dSO,n.encoding=z.knz,de.current.background=n,e.next=8,ve.current.initTexture(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c(),u(),i()]);case 2:xe.current.traverse((function(e){var n=e.material;n&&(n.envMap=Se.current.texture,n.needsUpdate=!0)})),Pe.current&&Q(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,C.startTransition)((function(){a(),setTimeout((function(){ae(!0)}),1e3)}))}}),[$,r,F]),(0,C.useEffect)((function(){return $&&!Ce.current&&(de.current.add(xe.current),Ce.current=!0),$&&ge&&(ie(!0),He()),function(){cancelAnimationFrame(Ee.current)}}),[He,ge,$]),(0,C.useEffect)((function(){$&&(le.current.innerHTML="",Re.current=I.map((function(e){var n,r=document.createElement("div");r.classList.add(L().label),r.dataset.hidden=!0,r.style.setProperty("--delay","".concat(e.delay||0,"ms")),r.textContent=e.text,le.current.appendChild(r);var t=new z.jyi;return(n=t.position).set.apply(n,(0,a.Z)(e.position)),t.scale.set(60,60,1),(0,c.Z)((0,u.Z)({element:r},e),{sprite:t})})))}),[I,$]),(0,C.useEffect)((function(){ve.current.setSize(ze,Ae),pe.current.aspect=ze/Ae,pe.current.updateProjectionMatrix()}),[ze,Ae]),(0,C.useEffect)((function(){var e=fe.current,n=function(e){var n=window.innerWidth,r=window.innerHeight,t=q(pe.current.position);console.info({cameraPosition:t}),he.current=new z.FM8(e.clientX/n*2-1,-e.clientY/r*2+1),ye.current.setFromCamera(he.current,pe.current);var i=ye.current.intersectObjects(de.current.children,!0);if(i.length>0){var u=q(i[0].point);console.info({clickPosition:u})}};return function(){e.removeEventListener("click",n)}}),[]);var Ue=(0,C.useCallback)((function(){if(se.current){var e,n=se.current.offsetTop,r=window.innerHeight,t=window.scrollY-n,i=function(e){var n=oe.current[e].meshes;xe.current.traverse((function(e){var r=e.name,t=(0,N.x2)("Chunk",xe.current),i=null===n||void 0===n?void 0:n.includes(r),u=null===W||void 0===W?void 0:W.includes(r);if(i)if("Atmosphere"===r)e.visible=!0,Te.set(1);else if("Chunk"===r){var c,o=new z.Pa4(-.4,.4,.4);if(e.visible=!0,Me)(c=e.position).set.apply(c,(0,a.Z)(o.toArray()));else Ze.set(o.x),Oe.set(o.y),qe.set(o.z)}else"EarthFull"===r&&t.visible?e.visible=!1:e.visible=!0;else if(u&&!i)if("Atmosphere"===r)Te.set(0);else if("Chunk"===r){var s=new z.Pa4(0,0,0);(function(e,n){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(100*(e+Number.EPSILON))/100};return r(null===e||void 0===e?void 0:e.x)===r(null===n||void 0===n?void 0:n.x)&&r(null===e||void 0===e?void 0:e.y)===r(null===n||void 0===n?void 0:n.y)&&r(null===e||void 0===e?void 0:e.z)===r(null===n||void 0===n?void 0:n.z)})(s,t.position)&&(e.visible=!1),Ze.set(s.x),Oe.set(s.y),qe.set(s.z)}else"EarthPartial"===r&&t.visible?e.visible=!0:e.visible=!1}))};requestAnimationFrame((function(){var n,u=oe.current.length-1,c=Math.floor(t/r),a=(0,A.u)(c,0,u),o=oe.current[a],s=oe.current[a+1],l=T(o)||Z,f=T(s)||Z,d=(t-r*a)/r,v=(0,A.u)(d,0,1),p=O(l.x,f.x,v),m=O(l.y,f.y,v),h=O(l.z,f.z,v);e!==l&&oe.current.length&&o&&(i(a),function(e){var n=oe.current[e].animations;Me||(we.current.forEach((function(e,r){n.find((function(e){return e.includes(r.toString())}))||be.current.clipAction(e).reset().stop()})),we.current.length&&oe.current[e].animations&&n.forEach((function(e){var n=e.split(":"),r=we.current[Number(n[0])],t=be.current.clipAction(r);n[1]&&"loop"===n[1]||(t.clampWhenFinished=!0,t.loop=z.jAl),t.play()})))}(a),n=a,Re.current.forEach((function(e){e.hidden&&(e.element.dataset.hidden=!0,e.element.setAttribute("aria-hidden",!0))})),oe.current[n].labels.forEach((function(e){Re.current.filter((function(n){return n.text===e})).forEach((function(e){e.element.dataset.hidden=!1,e.element.setAttribute("aria-hidden",!1)}))}))),e=l,ee||(Me?pe.current.position.set(p,m,h):(Ne.set(p),Fe.set(m),Le.set(h)))}))}}),[Ne,Fe,Le,Ze,Oe,qe,ee,W,Te,Me]);(0,C.useEffect)((function(){var e=function(e,n){var r=0;return function(){for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];var c=new Date;c-r>=n&&(e.apply(void 0,(0,a.Z)(i)),r=c)}}(Ue,100);return $&&ge&&window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[Ue,ge,$,Te]);var We=(0,C.useCallback)((function(e){oe.current=(0,a.Z)(oe.current).concat([e])}),[]),Be=(0,C.useCallback)((function(e){oe.current=oe.current.filter((function(n){return n!==e}))}),[]);return(0,l.jsx)(H.Provider,{value:{registerSection:We,unregisterSection:Be},children:(0,l.jsxs)("div",{className:(0,M.Sh)(L().earth,X),ref:se,children:[(0,l.jsxs)("div",{className:L().viewport,children:[(0,l.jsx)("canvas",{className:L().canvas,"data-visible":$&&te,"data-grabbing":ee,ref:fe}),(0,l.jsx)("div",{className:L().labels,"aria-live":"polite",ref:le}),(0,l.jsx)("div",{className:L().vignette})]}),(0,l.jsx)("div",{className:L().sections,children:G}),(0,l.jsx)(E.u,{unmount:!0,in:!$&&ce,timeout:(0,M.zG)(g.T.base.durationL),children:function(e){return(0,l.jsx)(b.$,{className:L().loader,"data-visible":e,children:(0,l.jsx)(w.a,{})})}})]})})},W=(0,C.memo)((function(e){var n=e.children,r=e.scrim,t=e.scrimReverse,i=e.className,u=e.camera,c=void 0===u?[0,0,0]:u,a=e.animations,o=void 0===a?[]:a,s=e.meshes,f=void 0===s?[]:s,d=e.labels,v=void 0===d?[]:d,p=(0,C.useContext)(H),m=p.registerSection,h=p.unregisterSection,y=(0,C.useRef)(),x=JSON.stringify(o)+JSON.stringify(c)+JSON.stringify(v)+JSON.stringify(f);return(0,C.useEffect)((function(){var e={camera:c,animations:o,meshes:f,labels:v,sectionRef:y};return m(e),function(){h(e)}}),[x,m,h]),(0,l.jsx)("div",{className:(0,M.Sh)(L().section,i),"data-scrim":r,"data-scrim-reverse":t,ref:y,children:n})}))},2156:function(e,n,r){"use strict";r.d(n,{u:function(){return t}});var t=function(e,n,r){return r?Math.min(e,n)===e?n:Math.max(e,r)===e?r:e:Math.max(e,n)===n?e:n}},3142:function(e,n,r){"use strict";r.d(n,{Et:function(){return s},Ji:function(){return v},Zf:function(){return o},e8:function(){return d},in:function(){return l},x2:function(){return p}});var t=r(9477),i=r(4976),u=r(7607);t.CtF.enabled=!0;var c=new i._,a=new u.E;c.setDecoderPath("/draco/"),a.setDRACOLoader(c);var o=a,s=new t.dpR,l=function(e){null===e||void 0===e||e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)f(e.material);else{var n=!0,r=!1,t=void 0;try{for(var i,u=e.material[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;f(c)}}catch(a){r=!0,t=a}finally{try{n||null==u.return||u.return()}finally{if(r)throw t}}}}))},f=function(e){e.dispose();var n=!0,r=!1,t=void 0;try{for(var i,u=Object.keys(e)[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c,a,o,s=e[i.value];if(s&&"object"===typeof s&&"minFilter"in s)s.dispose(),null===(c=s.source)||void 0===c||null===(a=c.data)||void 0===a||null===(o=a.close)||void 0===o||o.call(a)}}catch(l){r=!0,t=l}finally{try{n||null==u.return||u.return()}finally{if(r)throw t}}},d=function(e){e.dispose(),e=null},v=function(e){var n=!0,r=!1,t=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;c.parent.remove(c)}}catch(a){r=!0,t=a}finally{try{n||null==u.return||u.return()}finally{if(r)throw t}}},p=function(e,n){var r;return n.traverse((function(n){n.name===e&&(r=n)})),r}},4708:function(e){e.exports={earth:"Earth_earth__OpSy9",loader:"Earth_loader__FJ8SI",viewport:"Earth_viewport__uBdB2",canvas:"Earth_canvas__8O7Y6",labels:"Earth_labels__dku1G",label:"Earth_label__DShU9",vignette:"Earth_vignette__8nqic",sections:"Earth_sections__KalJU",section:"Earth_section__EU8Lb"}}}]);